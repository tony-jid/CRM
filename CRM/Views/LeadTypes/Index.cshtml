@{
    ViewData[nameof(EnumViewData.Title)] = "Types of Lead";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@(Html.DevExtreme().DataGrid<LeadType>()
    .ID("gridLeadTypes")
    .ShowBorders(true)
    .ShowRowLines(true)
    .ShowColumnLines(false)
    .RowAlternationEnabled(true)
    .HoverStateEnabled(true)
    .RemoteOperations(false)
    .FilterRow(f => f.Visible(false))
    .Paging(DXGridConfigs.MasterPaging())
    .Pager(DXGridConfigs.Pager())
    .DataSource(ds => ds.Mvc()
        .Controller(nameof(EnumController.LeadTypes))
        .LoadAction("Get")
        .InsertAction("Post")
        .UpdateAction("Put")
        .DeleteAction("Delete")
        .Key("Id")
    )
    .Columns(columns =>
    {
        columns.Add().CellTemplate(@<text><%= data.Id %></text>).Caption("Id").FormItem(f => { f.Visible(false); });
        columns.AddFor(m => m.Name);
        columns.AddFor(m => m.Price).Format(Format.Currency);
    })
    .Editing(e =>
        e.Mode(GridEditMode.Popup)
        .UseIcons(true)
        .AllowAdding(true)
        .AllowUpdating(true)
        .AllowDeleting(true)
        .Popup(DXGridConfigs.EditingPopup(nameof(LeadType)))
    )
    .OnContentReady(@<text>
        function(e) {
            CustomGridEvent.onContentReady(e, "Types");
        }
    </text>)
    .OnToolbarPreparing(@<text>
        function(e) {
            CustomGridEvent.onToolbarPreparing(e, "Types");
        }
    </text>)
)